<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>

div > h1{
text-align: center;
background-color:#d6ffdb;
height: 100px;
font-family: "Times New Roman", Times, serif;
margin: auto;
}
body{
background-color:#f7fff8;
}
div > table{

justify-content:center;
margin:auto;
}
.center{
text-align: center;
font-family: "Times New Roman", Times, serif;
margin: auto;
}
table{
font-family: "Times New Roman", Times, serif;
margin-left: 10px;
margin-right: 10px;
}
.container{
max-width: 1000px;
}
</style>
<meta charset="ISO-8859-1">
<title>Sayur</title>

</head>
<body>
	
	<div>
		
		<div class="container"><table id="table-list" class="table table-sm" border="1">
				<tr>
					<th>Nama Sayur</th>
					<th>Jumlah Sayur</th>
					<th>Tipe Keranjang</th>

				</tr>
			</thead>
			<tbody id="list-mahasiswa">
			<!--  ambil data dari list.html -->
				<!--  data yang diinput muncul disini -->
				
			</tbody>
		</table>
		
		<button id="add-data" type="button" class="btn btn-success">
				<a>Add Data</a>
			</button>
		<button id="add-keranjang" type="button" class="btn btn-success">
				<a>Add Keranjang</a>
			</button>
			</div>
			
		
		<div class="modal" tabindex="-1" id="modal-add-mahasiswa">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title"></h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"></script>
<script type="text/javascript">
autoRefresh();

	
function autoRefresh() {
	$.ajax({
		url : '/Quiz/sayur/list',
		type : 'post',
		dataType : 'html',
		success : function(result) {
			$('#list-mahasiswa').html(result);
		}
	});
}

$("#add-data").on("click", function () {
	$.ajax({
		url: "/Quiz/sayur/add",
		type: "post",
		dataType: "html",
		success: function (result) {
			$("#modal-add-mahasiswa").modal("show");
			$("#modal-add-mahasiswa").find(".modal-body").html(result);
		}
	});
});

$("#add-keranjang").on("click", function () {
	$.ajax({
		url: "/Quiz/sayur/add_keranjang",
		type: "post",
		dataType: "html",
		success: function (result) {
			$("#modal-add-mahasiswa").modal("show");
			$("#modal-add-mahasiswa").find(".modal-body").html(result);
		}
	});
});


$("#modal-add-mahasiswa").on("submit", "#form-add-keranjang", function () {
	$.ajax({
		url: "/Quiz/sayur/createKeranjang",
		type: "post",
		data: $(this).serialize(),
		success: function (result) {
			alert("data berhasil diupdate");
			$("#modal-add-mahasiswa").modal("hide");
			autoRefresh();
		}
	});
	return false;
});

$("#modal-add-mahasiswa").on("submit", "#form-add-sayur", function () {
	$.ajax({
		url: "/Quiz/sayur/createSayur",
		type: "post",
		data: $(this).serialize(),
		success: function (result) {
			alert("data berhasil diupdate");
			$("#modal-add-mahasiswa").modal("hide");
			autoRefresh();
		}
	});
	return false;
});
	
	
	$("#modal-add-profil").on("submit", "#form-add-profil", function () {
		$.ajax({
			url: "/Quiz/mahasiswa/createProfil",
			type: "post",
			data: $(this).serialize(),
			success: function (result) {
				alert("data berhasil diupdate");
				$("#modal-add-profil").modal("hide");
				autoRefresh();
			}
		});
		return false;
	});
	
	
	$("#list-pasien").on("click", "#btn-edit", function () {
		var kode = $(this).val();
		$.ajax({
			url: "/RS/edit",
			type: "post",
			dataType: "html",
			data: {kode},
			success: function (result) {
				$("#modal-edit-pasien").modal("show");
				$("#modal-edit-pasien").find(".modal-body").html(result);
			}
		});
	});
	
	$("#modal-edit-pasien").on("submit", "#form-edit-pasien", function () {
		$.ajax({
			url: "/RS/update",
			type: "post",
			data: $(this).serialize(),
			success: function (result) {
				alert("data berhasil diupdate");
				$("#modal-edit-pasien").modal("hide");
				autoRefresh();
			}
		});
		return false;
	});
	
	$("#list-pasien").on("click", "#btn-remove", function () {
		var kode = $(this).val();
		$.ajax({
			url: "/RS/remove",
			type: "post",
			dataType: "html",
			data: {kode},
			success: function (result) {
				$("#modal-delete-pasien").modal("show");
				$("#modal-delete-pasien").find(".modal-body").html(result);
			}
		});
	});
	
	
	
	
	
	$("#modal-delete-pasien").on("submit", "#form-delete-pasien", function () {
		$.ajax({
			url: "/RS/delete",
			type: "post",
			data: $(this).serialize(),
			success: function (result) {
				alert("data berhasil dihapus");
				$("#modal-delete-pasien").modal("hide");
				autoRefresh();
			}
		});
		return false;
	});
	
	<!-- Cancel delete-->
	$("#modal-delete-pasien").on("reset", "#form-delete-pasien", function () {
		$.ajax({
			success: function (result) {
				$("#modal-delete-pasien").modal("hide");
				autoRefresh();
			}
		});
		return false;
	});
	<!-- Cancel edit-->
	$("#modal-edit-pasien").on("reset", "#form-edit-pasien", function () {
		$.ajax({
			success: function (result) {
				$("#modal-edit-pasien").modal("hide");
				autoRefresh();
			}
		});
		return false;
	});

</script>
</html>